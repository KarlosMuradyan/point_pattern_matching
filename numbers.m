% Example with the collection of numbers. In P we have all unit numbers. When 
%   passing P to the algorithm, we compare the input with it.

clc
clear

P = cell(1,13);

%another set of datapoints for 1,2,5 respectively
P{11} = [   0.32535   0.35069   0.41982   0.46359   0.51198   0.51659   0.52120   0.51659   0.52581   0.52581   0.35991   0.45668   0.53733   0.61567   0.69401;
   0.62168   0.66842   0.78528   0.91382   0.95472   0.80280   0.65381   0.53696   0.41134   0.28279   0.19807   0.20099   0.21268   0.22436   0.20976];
P{12} = [  0.295392   0.318433   0.380645   0.514286   0.588018   0.597235   0.569585   0.523502   0.470507   0.382949   0.270046   0.265438   0.376037   0.493548   0.576498;
   0.642127   0.776512   0.881683   0.893368   0.805726   0.642127   0.510663   0.385042   0.233129   0.125037   0.098744   0.247736   0.274029   0.195150   0.139644];
P{13} = [   0.35760   0.35760   0.34608   0.34839   0.36912   0.47972   0.58341   0.63410   0.62719   0.54194   0.41982   0.33456   0.43134   0.53963   0.62719;
   0.84370   0.77651   0.68303   0.58370   0.60123   0.65966   0.64505   0.55156   0.40549   0.31785   0.28571   0.30909   0.82910   0.82033   0.82325];
   
P{1} = [0.32995   0.37373   0.41751   0.48203   0.49124   0.49816   0.49124   0.49585   0.49585   0.50968   0.32765   0.42212 0.47742   0.54885   0.65484;
0.57493   0.64213   0.70056   0.79696   0.66842   0.54280   0.45223   0.37044   0.29156   0.18054   0.18346   0.18639    0.18346   0.17178   0.18639];
P{2} = [   0.33917   0.37143   0.46129   0.56728   0.58111   0.54194   0.50968   0.47281   0.44516   0.40369   0.37604   0.44055   0.49816   0.55346   0.63410;
   0.56033   0.68887   0.79988   0.73269   0.56909   0.48437   0.44055   0.38504   0.34706   0.28279   0.17762   0.19515   0.19515   0.19515   0.18931];
P{3} = [0.34147   0.36221   0.41521   0.52581   0.60645   0.62028   0.60184   0.51429   0.48894   0.58802   0.64793   0.63871   0.58111   0.46359   0.35069;
     0.68011   0.72685   0.80280   0.81741   0.74145   0.60415   0.49898   0.44055   0.40257   0.40549   0.37920   0.27987   0.22436   0.18931   0.25358];
P{4} = [0.35530   0.35069   0.32995   0.33687   0.32765   0.38295   0.45438   0.53272   0.54654   0.53963   0.53733   0.53963   0.53502   0.52811   0.53041;
   0.87000   0.79696   0.68303   0.59246   0.47853   0.47561   0.46100   0.46976   0.68011   0.62460   0.55448   0.49606   0.41426   0.33830   0.25358];
P{5} = [   0.34608   0.38986   0.46129   0.53963   0.55806   0.54424   0.50046   0.43134   0.38065   0.33687   0.34378   0.33456   0.34147   0.38756   0.47281;
   0.31201   0.24774   0.20976   0.23313   0.35583   0.45516   0.56909   0.59538   0.56325   0.51943   0.60707   0.70056   0.76775   0.76483   0.75898];
P{6} = [0.56959   0.52350   0.47051   0.38525   0.32304   0.30922   0.31843   0.38295   0.50276   0.60645   0.64562   0.60184    0.51429   0.43134   0.35069;
   0.82033   0.84078   0.82325   0.77359   0.65381   0.51358   0.32077   0.21560   0.19223   0.26234   0.41718   0.53111   0.57201   0.54572   0.48145];
P{7} = [0.28618   0.38525   0.48433   0.56959   0.64332   0.63180   0.60876   0.60184   0.58341   0.57650   0.38756   0.44977   0.54194   0.64793   0.73548;
   0.80865   0.80865   0.81157   0.82325   0.82033   0.76190   0.64505   0.48437   0.36751   0.22729   0.53696   0.53403   0.53403   0.54280   0.54572];
P{8} = [ 0.41751   0.35069   0.35069   0.41982   0.57189   0.68710   0.66175   0.56728   0.46590   0.40369   0.41751   0.53041   0.64562   0.68479   0.61567;
   0.55156   0.61583   0.74438   0.84663   0.86415   0.75606   0.59246   0.54280   0.47853   0.34999   0.23021   0.15133   0.17178   0.31785   0.43763];
P{9} = [  0.47742   0.41982   0.33226   0.30691   0.35760   0.47972   0.56037   0.56728   0.50737   0.54194   0.52120   0.50968   0.48433   0.37604   0.31843;
   0.82618   0.84370   0.78820   0.64797   0.52527   0.49898   0.58954   0.71224   0.82618   0.59538   0.47561   0.32077   0.20684   0.21560   0.23897];
P{10} = [   0.45899   0.36221   0.29770   0.25853   0.24240   0.25622   0.28848   0.35069   0.49355   0.56498   0.61567   0.62258   0.60415   0.56267   0.49816;
   0.84663   0.80280   0.71224   0.57493   0.42886   0.30909   0.21560   0.16886   0.16009   0.19807   0.32077   0.51066   0.61583   0.72685   0.83494];
   
%Calling dataManager function for getting an input and comparing with P matrix
res = dataManager(P, 15, 100, true);

%Getting the minimum error of input and data
[val, indx] = min(res);
%handling the case when input is matched with the second implementation of 5
if indx==13
  indx = 15;
end

% Displaying Result
decodedValue = strcat("The input was: ", int2str(mod(indx,10)));
fig = figure(3);
hPan = uipanel(fig,'Units','normalized');

uicontrol(hPan, 'Style','text', 'HorizontalAlignment','center', ...
'FontSize',25, 'Units','normalized', 'Position',[0.2 0.4 0.6 0.2], ...
'String',decodedValue);